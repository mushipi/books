# 自宅の本管理アプリ

自宅の蔵書を効率的に管理するためのウェブベースアプリケーションです。本のバーコード（JANコード/ISBN）から情報を取得し、データベースで一元管理します。

## 機能

- JANコード/ISBNの画像からの自動読み取り
- 外部APIを利用した書籍情報の自動取得
- 書籍の基本情報管理（追加・編集・削除）
- 検索・ソート機能
- カテゴリ/タグ管理
- 収納場所管理
- データエクスポート（CSV/JSON）

## セットアップ方法

### 1. 仮想環境のセットアップ

アプリケーションをセットアップするには、まず `setup_env.bat` スクリプトを実行して必要なライブラリをインストールしてください：

```
setup_env.bat
```

これにより、Python仮想環境が作成され、必要なパッケージがインストールされます。

### 2. データベースの初期化

次に、データベースを初期化するために `db_init.py` スクリプトを実行します：

```
call venv\Scripts\activate
python db_init.py
```

プロンプトが表示されたら、`3` を選択して「初期化+初期データ投入」を実行してください。

### 3. アプリケーションの起動

最後に、アプリケーションを起動します：

```
python app.py
```

ブラウザで `http://localhost:5000` にアクセスしてアプリケーションを使用開始できます。

## ネットワーク公開

ローカルネットワーク内で他のデバイスからアクセスできるようにするには、以下の手順に従ってください：

1. ホストPCのIPアドレスを確認します（コマンドプロンプトで `ipconfig` を実行）
2. アプリケーションは既に `0.0.0.0` アドレスでリッスンするよう設定されています
3. 必要に応じてファイアウォール設定を確認し、ポート5000を開放します
4. 同じネットワーク内の他のデバイスから `http://<ホストIP>:5000` でアクセスできます

## 使用技術

- Flask（Pythonウェブフレームワーク）
- Bootstrap 5（レスポンシブUI）
- SQLite（データベース）
- OpenBD API / 国立国会図書館API（書籍情報取得）
- pyzbar/ZBar（バーコード処理）
- QuaggaJS（クライアントサイドバーコードスキャン）

## 注意事項

- このアプリケーションは開発者の個人的な使用を想定しています
- 外部APIの利用制限に注意してください
- 大量の書籍データを扱う場合はSQLiteではなくより堅牢なデータベースへの移行を検討してください
